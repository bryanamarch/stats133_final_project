getwd()
data_2 <- read.csv('airplane_crashes.csv')
setwd('~/Documents/R/Final Project')
setwd("~/R/Final Project")
data_1 <- read.delim('aviation_data.txt', header = TRUE, sep = '|')
data_1 <- read.delim('raw_data/aviation_data.txt', header = TRUE, sep = '|')
getwd()
setwd("~/R/Final Project")
setwd("~/R/Final Project/stats133_final_project")
data_1 <- read.delim('raw_data/aviation_data.txt', header = TRUE, sep = '|')
data_2 <- read.csv('raw_data/airplane_crashes.csv')
class(data_1)
class(data_2)
head(data_1)
View(data_1)
View(data_1)
View(data_2)
data_1 <- data_1[c('Event.Date', 'Location','Country')]
head(data_1)
data_1 <- read.delim('raw_data/aviation_data.txt', header = TRUE, sep = '|')
subset(data_1, Aircraft.Category == 'Airplane')
head(data_1$Aircraft.Category)
subset(data_1, Aircraft.Category == Airplane)
data_1 <- read.delim('raw_data/aviation_data.txt', header = TRUE, sep = '|', stringsAsFactors = FALSE)
data_2 <- read.csv('raw_data/airplane_crashes.csv', stringsAsFactors = FALSE)
subset(data_1, Aircraft.Category == 'Airplane')
head(data_1$Aircraft.Category)
subset(data_1, Aircraft.Category == ' Airplane ')
av_data_2 <- av_data_1[c('Event.Date', 'Location','Country', 'Make', 'Model')]
av_data_1 <- read.delim('raw_data/aviation_data.txt', header = TRUE, sep = '|', stringsAsFactors = FALSE)
air_data_1 <- read.csv('raw_data/airplane_crashes.csv', stringsAsFactors = FALSE)
av_data_1 <- read.delim('raw_data/aviation_data.txt', header = TRUE, sep = '|', stringsAsFactors = FALSE)
air_data_1 <- read.csv('raw_data/airplane_crashes.csv', stringsAsFactors = FALSE)
av_data_2 <- subset(data_1, Aircraft.Category == ' Airplane ')
av_data_3 <- av_data_2[c('Event.Date', 'Location','Country', 'Make', 'Model')]
air_data_2 <- air_data_1[c('Date', 'Location', 'Type')]
head(air_data_2)
head(av_data_3)
air_data_2$Type
?grepl
air_data_2 <- air_data_1[grepl('airship', air_data_1$Type)]
air_data_2 <- air_data_1[ ,grepl('airship', air_data_1$Type)]
grepl('airship', air_data_1$Type)
air_data_2 <- air_data_1[grepl('airship', air_data_1$Type), ]
head(air_data_2)
head(grepl('airship', air_data_1$Type))
air_data_2 <- air_data_1[~grepl('airship', air_data_1$Type), ]
air_data_2 <- air_data_1[!grepl('airship', air_data_1$Type), ]
head(air_data_2)
head(!grepl('airship', air_data_1$Type))
av_data_3 <- av_data_2[c('Event.Date', 'Location','Country', 'Make', 'Model')]
air_data_3 <- air_data_2[c('Date', 'Location', 'Type')]
av_data_1 <- read.delim('raw_data/aviation_data.txt', header = TRUE, sep = '|', stringsAsFactors = FALSE)
air_data_1 <- read.csv('raw_data/airplane_crashes.csv', stringsAsFactors = FALSE)
av_data_2 <- subset(data_1, Aircraft.Category == ' Airplane ')
air_data_2 <- air_data_1[!grepl('airship', air_data_1$Type), ]
av_data_3 <- av_data_2[c('Event.Date', 'Location','Country', 'Make', 'Model')]
air_data_3 <- air_data_2[c('Date', 'Location', 'Type')]
View(av_data_1)
head(av_data_2$Event.Date)
av_data_2 <- subset(data_1, Aircraft.Category == ' Airplane '| Aircraft.Category == '')
acc_date <- av_data_2$Event.Date
av_data_2$year <- substr(acc_date, start = nchar(acc_date)-4, stop = nchar(acc_date))
head(av_data_2$year)
av_data_3 <- subset(av_data_2, year > 1981)
View(av_data_3)
View(av_data_3)
av_data_1 <- read.delim('raw_data/aviation_data.txt', header = TRUE, sep = '|', stringsAsFactors = FALSE)
av_data_2 <- subset(data_1, Aircraft.Category == ' Airplane '| Aircraft.Category == '')
head(av_data_1$Aircraft.Category)
av_data_2 <- subset(data_1, Aircraft.Category == ' Airplane '| Aircraft.Category == '  ')
acc_date <- av_data_2$Event.Date
av_data_2$year <- as.numeric(substr(acc_date, start = nchar(acc_date)-4, stop = nchar(acc_date)))
acc_date <- av_data_2$Event.Date
av_data_2$year <- as.numeric(substr(acc_date, start = nchar(acc_date)-4, stop = nchar(acc_date)))
av_data_3 <- subset(av_data_2, year > 1981)
head(air_data_2$Date)
ac_date <- air_data_2$Date
air_data_2$year <- as.numeric(substr(ac_date, start = nchar(ac_date)-3, stop = nchar(ac_date)))
air_data_3 <- subset(air_data_2, year <= 1981)
head(air_data_3)
air_data_3 <- subset(air_data_2, year <= 1981 | year > 1912)
head(air_data_3$Date)
ac_date <- air_data_2$Date
air_data_2$year <- as.numeric(substr(ac_date, start = nchar(ac_date)-3, stop = nchar(ac_date)))
air_data_3 <- subset(air_data_2, year <= 1981 | year > 1912)
head(air_data_3$Date)
head(air_data_3$year)
air_data_3 <- subset(air_data_2, year <= 1981 & year > 1912)
head(air_data_3$year)
air_data_3 <- subset(air_data_2, year <= 1981 & year > 1920)
head(air_data_3$year)
air_data_3 <- subset(air_data_2, year <= 1981 & year > 1919)
head(air_data_3$year)
acc_date <- av_data_2$Event.Date
av_data_3 <- subset(av_data_2, year >= 1982)
av_data_2$year <- as.numeric(substr(acc_date, start = nchar(acc_date)-4, stop = nchar(acc_date)))
ac_date <- air_data_2$Date
air_data_2$year <- as.numeric(substr(ac_date, start = nchar(ac_date)-3, stop = nchar(ac_date)))
air_data_3 <- subset(air_data_2, year <= 1981 & year >= 1920)
head(air_data_3$year)
av_data_4 <- av_data_3[c('Event.Date', 'Location','Country', 'Make', 'Model')]
air_data_4 <- air_data_3[c('Date', 'Location', 'Type')]
View(air_data_4)
View(air_data_4)
View(av_data_4)
View(av_data_4)
av_data_4$new_location <- c(av_data_4$Location, av_data_4$Country)
av_data_4$new_location <- paste(av_data_4$Location, av_data_4$Country)
head(av_data_4$new_location)
av_data_4$new_location <- paste0(av_data_4$Location, av_data_4$Country)
head(av_data_4$new_location)
av_data_4$Type <- paste0(av_data_4$Make, av_data_4$Model)
head(av_data_4$Type)
av_data_3$new_location <- paste0(av_data_3$Location, av_data_3$Country)
av_data_3$Type <- paste0(av_data_3$Make, av_data_3$Model)
av_data_3$new_location <- paste0(av_data_3$Location, av_data_3$Country)
av_data_3$Type <- paste0(av_data_3$Make, av_data_3$Model)
av_data_4 <- av_data_3[c('Event.Date', 'new_location', 'Type')]
air_data_4 <- air_data_3[c('Date', 'Location', 'Type')]
av_data_4["4389"]
av_data_4[4389, ]
av_data_4[5190, ]
av_data_4[3588, ]
av_data_4[3688, ]
av_data_4[3788, ]
av_data_4[3700, ]
av_data_4[3708, ]
av_data_4$Type[3708, ]
av_data_4$Type[3708]
av_data_5 <- subset(av_data_4, Type == '    ')
av_data_5 <- subset(av_data_4, Type != '    ')
View(av_data_5)
View(av_data_5)
air_data_4$Type[86, ]
air_data_4$Type[86]
air_data_4[86, ]
air_data_4[50, ]
air_data_4[56, ]
air_data_4[55, ]
air_data_4$Type[55]
air_data_5 <- subset(air_data_4, Type != '')
names(av_data_5) <- c('date', 'location', 'type')
names(air_data_5) <- c('date', 'location', 'type')
View(air_data_5)
View(air_data_5)
data <- merge(av_data_5, air_data_5)
?merge
data <- c(av_data_5, air_data_5)
data <- rbind(av_data_5, air_data_5)
View(data)
View(data)
length(air_data_3)
nrow(air_data_3)
air_data_4 <- air_data_3[nrow(air_data_3):1,]
air_data_5 <- air_data_4[c('Date', 'Location', 'Type')]
air_data_6 <- subset(air_data_5, Type != '')
data <- rbind(av_data_5, air_data_6)
air_data_4 <- air_data_3[nrow(air_data_3):1,]
av_data_4 <- av_data_3[c('Event.Date', 'new_location', 'Type')]
air_data_5 <- air_data_4[c('Date', 'Location', 'Type')]
av_data_5 <- subset(av_data_4, Type != '    ')
air_data_6 <- subset(air_data_5, Type != '')
names(av_data_5) <- c('date', 'location', 'type')
names(air_data_6) <- c('date', 'location', 'type')
data <- rbind(av_data_5, air_data_6)
dir.create('code')dir.create('code')
dir.create('code')
dir.create('rawdata')
dir.create('data')
dir.create('resources')
dir.create('report')
dir.create('images')
write.csv(data, file = 'data/data.csv')
getwd()
