{
    "contents" : "# ======================================================================\n# Part 3: Type analysis \n# Description: Here we are looking at how the most common types of \n#              airplanes to crash changed over different decades. \n# ======================================================================\n\n# packages needed\nlibrary(stringr)\nlibrary(ggplot2)\n\n# functions needed \nsource('code/fun_top3.R')\n\n# must have ran part_2 first.\ndecade_names <- c(\"1920s\", \"1930s\", \"1940s\", \"1950s\", \"1960s\", \"1970s\", \n                  \"1980s\", \"1990s\", \"2000s\", \"2010s\")\n\n# Here we are parsing out the data by decade so that we can plot by type and \n# extracting just the top three values.\ntop3_array <- fun_top3(data, decade_names)\n\n# Now we want to create a data frame that combines the data from each \n# decade in a way that we can plot it efficiently. \ntype <- names(top3_array)\nfreq <- as.vector(top3_array)\ndecade <- rep(decade_names, each = 3)\n\ntop3 <- data.frame(type = type, freq = freq, decade = decade)\n  \n  \n# Graphing (I don't think we need to actually include this plot, so we can \n# delete it once we've all seen it)\nggplot(top3, aes(x = decade, y = freq, fill = type))+\n  geom_bar( stat = 'identity', position = position_dodge())\n  \n\n# These are the two sets of decades we want to focus on. \n# Because of the differences among our data sets, we want to look at:\n#  - from 1940-1980 \n#  - from 1980-2010\n\n# 1940-1980\ndecade_names_1 <- decade_names[3:6]\ntype_1 <- type[7:18]\nfreq_1 <- freq[7:18]\ndecade_1 <- rep(decade_names_1, each = 3)\n\ntop3_1 <- data.frame(type = type_1, freq = freq_1, decade = decade_1)\n\n# plotting the trend\nggplot(top3_1, aes(x = decade, y = freq, fill = type))+\n  geom_bar( stat = 'identity', position = position_dodge())+\n  ggtitle('Most Common Planes in Accidents 1940s to 1970s')\n\n# 1980-2010\ndecade_names_2 <- decade_names[7:9]\ntype_2 <- type[19:27]\nfreq_2 <- freq[19:27]\ndecade_2 <- rep(decade_names_2, each = 3)\n\ntop3_2 <- data.frame(type = type_2, freq = freq_2, decade = decade_2)\n\n# plotting the trend \nggplot(top3_2, aes(x = decade, y = freq, fill = type))+\n  geom_bar( stat = 'identity', position = position_dodge())+\n  ggtitle('Most Common Planes in Accidents 1980s to 2000s')\n\n# Exporting the Graphics\n# PDF\npdf('plots_and_graphics/most_common_planes_in_accidents_1940s_to_1970s.pdf')\nggplot(top3_1, aes(x = decade, y = freq, fill = type))+\n  geom_bar( stat = 'identity', position = position_dodge())+\n  ggtitle('Top 3 Planes in Accidents 1940s to 1970s')\ndev.off()\n\npdf('plots_and_graphics/most_common_planes_in_accidents_1980s_to_2000s.pdf')\nggplot(top3_2, aes(x = decade, y = freq, fill = type))+\n  geom_bar( stat = 'identity', position = position_dodge())+\n  ggtitle('Top 3 Planes in Accidents 1980s to 2000s')\ndev.off()\n\n# PNG\npng('plots_and_graphics/most_common_planes_in_accidents_1940s_to_1970s.png',\n    res = 96, width = 700, height = 500)\nggplot(top3_1, aes(x = decade, y = freq, fill = type))+\n  geom_bar( stat = 'identity', position = position_dodge())+\n  ggtitle('Top 3 Planes in Accidents 1940s to 1970s')\ndev.off()\n\npng('plots_and_graphics/most_common_planes_in_accidents_1980s_to_2000s.png',\n    res = 96)\nggplot(top3_2, aes(x = decade, y = freq, fill = type))+\n  geom_bar( stat = 'identity', position = position_dodge())+\n  ggtitle('Top 3 Planes in Accidents 1980s to 2000s')\ndev.off()\n\n",
    "created" : 1449348609388.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2339258652",
    "id" : "B87C1E93",
    "lastKnownWriteTime" : 1449549962,
    "path" : "~/R/Final Project/stats133_final_project/code/part_3.R",
    "project_path" : "code/part_3.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 5,
    "source_on_save" : true,
    "type" : "r_source"
}