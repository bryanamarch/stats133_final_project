{
    "contents" : "# ======================================================================\n# Part 2: Percentage of Accidents in Each Decade\n# Description: Here we will find the proportions of accidents to each \n#              dataset.\n# ======================================================================\n# packages needed\nlibrary(stringr)\n\n# function needed \nsource('code/norm_decade.R')\n\n# making a year only column\ndata$year <- as.numeric(str_extract(data$date, '[0-9]{4}'))\n\n# labeling by decades\ndecade = NULL\nfor(i in 1:length(data$year)){\n  x <- data$year[i]\n  if ((x %in% c(1920:1929))==TRUE) x = '1920s'\n  if ((x %in% c(1930:1939))==TRUE) x = '1930s'\n  if ((x %in% c(1940:1949))==TRUE) x = '1940s'\n  if ((x %in% c(1950:1959))==TRUE) x = '1950s'\n  if ((x %in% c(1960:1969))==TRUE) x = '1960s'\n  if ((x %in% c(1970:1979))==TRUE) x = '1970s'\n  if ((x %in% c(1980:1989))==TRUE) x = '1980s'\n  if ((x %in% c(1990:1999))==TRUE) x = '1990s'\n  if ((x %in% c(2000:2009))==TRUE) x = '2000s'\n  if ((x %in% c(2010:2019))==TRUE) x = '2010s'\n  decade = c(decade, x)\n}\n\ndata$decade <- decade\n\n# looking at freq of accidents for \ntable(data$decade)\n\n# normalizing data\namt_dataset1 <- nrow(air_data_6)\namt_dataset2 <- nrow(av_data_5)\n\nnorm_decade_1920 <- norm_decade('1920s')\nnorm_decade_1930 <- norm_decade('1930s')\nnorm_decade_1940 <- norm_decade('1940s')\nnorm_decade_1950 <- norm_decade('1950s')\nnorm_decade_1960 <- norm_decade('1960s')\nnorm_decade_1970 <- norm_decade('1970s')\nnorm_decade_1980 <- norm_decade('1980s')\nnorm_decade_1990 <- norm_decade('1990s')\nnorm_decade_2000 <- norm_decade('2000s')\nnorm_decade_2010 <- norm_decade('2010s')\n\nvec_norm_decade <- c(norm_decade_1920, norm_decade_1930,  norm_decade_1940, \n                     norm_decade_1950, norm_decade_1960, norm_decade_1970, \n                     norm_decade_1980, norm_decade_1990, norm_decade_2000, \n                     norm_decade_2010)\n\n# Graphing\ndecade_names <- c('1920s', '1930s', '1940s', '1950s', '1960s', '1970s',\n                  '1980s', '1990s', '2000s', '2010s')\n\nbarplot(vec_norm_decade, xlab = 'Decades',\n        ylab = 'Proportions of Accidents to Each Dataset',\n        main = 'Normalized Number of Crashes Each Decade',\n        names.arg = decade_names,\n        las = 2,\n        cex.names = .75,\n        col = '#FFAC0E')\n\n\n# Exporting the Graphics\n# PDF\npdf('plots_and_graphics/normalized_number_of_crashes_each_decade.pdf')\nbarplot(vec_norm_decade, xlab = 'Decades',\n        ylab = 'Proportions of Accidents to Each Dataset',\n        main = 'Normalized Number of Crashes Each Decade',\n        names.arg = decade_names,\n        las = 2,\n        cex.names = .75,\n        col = '#FFAC0E')\ndev.off()\n\n# PNG\npng('plots_and_graphics/normalized_number_of_crashes_each_decade.png',\n    res = 96)\nbarplot(vec_norm_decade, xlab = 'Decades',\n        ylab = 'Proportions of Accidents to Each Dataset',\n        main = 'Normalized Number of Crashes Each Decade',\n        names.arg = decade_names,\n        las = 2,\n        cex.names = .75,\n        col = '#FFAC0E')\ndev.off()\n",
    "created" : 1449347798298.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "415691803",
    "id" : "309428A7",
    "lastKnownWriteTime" : 1449369106,
    "path" : "~/R/Final Project/stats133_final_project/code/part_2.R",
    "project_path" : "code/part_2.R",
    "properties" : {
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "type" : "r_source"
}